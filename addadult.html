<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Add adult information</title>
        <link rel="Stylesheet" href="style1.css">
    </head>
    <body>
        <div class="center">
            <h1> Adult Signup</h1>
            <form method="post" id="adult_signup">
                <div class="txt_field">
                    <input type="text" name="Username" id="name" required>
                    <label>Username</label>
                </div>
                <div>
                    <div class="txt_field">
                        <input type="text" name="UserId" id="Id" required>
                        <label>User Id </label>
                </div>

                <button type="button"  id="submit_data" class="btn" name="submit_data">Add</button>        
                
            </form>
        </div> 
    </body>   
</html>   
 
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-app.js";
  import { getFirestore, setDoc,doc} from "https://www.gstatic.com/firebasejs/9.13.0/firebase-firestore.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyC1dJtNBsEY5oCb6Bm7bW4-OT3Ek4rdeQM",
    authDomain: "vaccination-fe9eb.firebaseapp.com",
    projectId: "vaccination-fe9eb",
    storageBucket: "vaccination-fe9eb.appspot.com",
    messagingSenderId: "470038900507",
    appId: "1:470038900507:web:3cbaaf929572e3f5ddadbe"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  // Initialize Cloud Firestore and get a reference to the service
  const db = getFirestore(app);

  submit_data.addEventListener('click', (e) => {
     
      var Id = document.getElementById('Id').value;
      var name = document.getElementById('name').value;
      

    setDoc(doc(db, "adults",Id), {
      name: name,
      Id: Id
     
     })
   .then (function() {
    alert('Adult added');
   })
   .catch(function(error){
    alert.error(error);
   })

  });

</script>
   
    

   

